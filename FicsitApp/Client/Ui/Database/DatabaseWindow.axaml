<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:vm="using:Client.Ui.Database"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        mc:Ignorable="d" d:DesignWidth="800" d:DesignHeight="450"
        x:Class="Client.Ui.Database.DatabaseWindow"
        x:DataType="vm:DatabaseWindowViewModel"
        Icon="/Assets/Icon.ico"
        Title="Ficsit App - Database"
        Width="1024"
        Height="768"
        WindowStartupLocation="CenterScreen"
        TransparencyLevelHint="AcrylicBlur"
        Background="Transparent"
        ExtendClientAreaToDecorationsHint="True">

    <Design.DataContext>
        <vm:DatabaseWindowViewModel />
    </Design.DataContext>
    
    <Window.Resources>
        <SolidColorBrush x:Key="SelectionColor" Color="Orange" Opacity=".8" />
    </Window.Resources>

    <Panel>
        <ExperimentalAcrylicBorder IsHitTestVisible="False">
            <ExperimentalAcrylicBorder.Material>
                <ExperimentalAcrylicMaterial
                    BackgroundSource="Digger"
                    TintColor="DimGray"
                    TintOpacity="1"
                    MaterialOpacity="0.85" />
            </ExperimentalAcrylicBorder.Material>
        </ExperimentalAcrylicBorder>
        
        <Grid RowDefinitions="Auto, *">
            <Border Grid.Row="0" Height="30" Background="Orange" IsHitTestVisible="False">
                <Image Source="/Assets/Satisfactory2.png" HorizontalAlignment="Left" Margin="5" />
            </Border>
            <ListBox Grid.Row="1" ItemsSource="{Binding Images}" 
                     Background="Transparent">
                <ListBox.ItemsPanel>
                    <ItemsPanelTemplate>
                        <WrapPanel />
                    </ItemsPanelTemplate>
                </ListBox.ItemsPanel>
                <ListBox.ItemTemplate>
                    <DataTemplate>
                        <Grid ColumnDefinitions="Auto, *">
                            <Image Grid.Column="0" Source="{Binding}" Margin="-8"/>
                        </Grid>
                    </DataTemplate>
                </ListBox.ItemTemplate>
                <ListBox.Styles>
                    <Style Selector="ListBoxItem:selected /template/ ContentPresenter">
                        <Setter Property="Background" Value="{DynamicResource SelectionColor}" />
                    </Style>
                </ListBox.Styles>
            </ListBox>
        </Grid>
    </Panel>
</Window>